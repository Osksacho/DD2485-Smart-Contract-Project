# BlockThoughts
Concept: As a group of two, you scope, design, and implement a smart contract protocol. You choose a smart contract language of your choice. A DApp/UX is welcome but not mandatory. You present the protocol for 30 minutes (15 min presentation + 15 min questions) during the Smart Contract Grand Oral on December 18, 2023. 

The protocol proposal must be done through a pull-request before Nov 15, sunset in Stockholm.

|                                             | Yes | No | 
|-------------------------------------------- | ----|----|
|github: The protocol is hosted on GitHub, publicly available. The GitHub repository must have a root README file. | Mandatory | - | 
|tested: The protocol can be automatically executed from a test suite | Mandatory | - | 
|documented: The usage of the protocol is well documented | Mandatory | - | 
|timing: The length of the presentation is 15 minutes (hard limit)  | Mandatory | - |
|motivation: The protocol is clearly motivated | Yes | No | 
|background: The README gives enough background | Yes | No | 
|tech: The presentation focuses on the technical aspects of the protocol | Yes | No | 
|original: The protocol is original, the README discusses closely related work  | Yes | No |
|well-structured: the structure of the presentation is announced and graphically visible | Yes | No |
|code: The presentation contains valuable and readable code snippets | Yes | No |
|reflection: The presentation contains a reflective part  | Yes | No |
|sota: There is one good slide positioning the presentation in the state of the art| Yes | No |
|take-home: The last slide contains a good and concise take-home message | Yes | No |
|engagement: The speakers engage with the audience | Yes | No  |
|humour: The speakers are fun, have humour or the protocol contains an Easter egg | Yes | No |
|readable slides: The slides do not have too much text  | Yes | No |
|(BONUS) verification: the procotol contains some verification beyond testing (mutation testing with Gambit, formal verification) | Yes | No |
|(BONUS) perfect testing: the protocol has 100% statement coverage | Yes | No |
|(BONUS) fuzzing/symbolic execution: the protocol has a harness for fuzzing or [symbolic execution](https://twitter.com/trailofbits/status/1223386823084384256) | Yes | No |
|(BONUS) outreach: the students outreach to the crypto world about their protocol | Yes | No |
|(BONUS) real-world: the protocol is deployed on mainnet and IPFS | Yes | No |
|(BONUS) DApp/UX: the protocol contains user interface application | Yes | No |

To pass, you must have the mandatory parts and at least 9 "yes".

BlockThoughts is a chat forum service. A user can add their username, post threads and comment on other peoples threads. BlockThoughts is decentralized and the database is stored on a blockchain. Specifically, the protocol is written in Solidity and can run on Ethereum, however it is not deployed on mainnet yet. The repo contains a guide for deploying locally and hosting an example website to show how the protocol could be used in practice.

There have been many implementations of decentralized chat forums using peer-to-peer networks such as https://retroshare.cc/ and https://getaether.net/. However, a decentralized chat forum on a blockchain network has yet to be practically implemented. This is likely due to a variety of challenges with regards to gas fees and scalability. One of the main purposes of this project was to investigate these problems.
## Deploy locally

Start by cloning the repository and install all dependencies 

```
git clone git@github.com:Osksacho/DD2485-Smart-Contract-Project.git
npm install
```


Now you can start a local blockchain using
```
npx hardhat node
```

In another terminal you can now compile and deploy the contract with the command (use network-name "localhost" to deploy on local blockchain).
```
npx hardhat compile
npx hardhat run scripts/deploy.js --network [network-name]
```

## Tests and code coverage

You can run the tests and get a coverage report of 100% by using

```
npx hardhat coverage
```

## Host website locally
There are a few extra steps here. First, to host the site locally you can go inte blockthoughts-site folder and
```
npm run dev
```

To interact with the local blockchain you will need to have metamask installed in your browser and add your localhost as the blockchain network

![image](https://github.com/Osksacho/DD2485-Smart-Contract-Project/assets/65446534/6f42c7d4-cd02-49aa-addb-1506ba5dde97)

You will also need to copy one of the private keys of an address generated by the local hardhat chain and create an account on metamask. This account will be given 10000 ETH by default.

![image](https://github.com/Osksacho/DD2485-Smart-Contract-Project/assets/65446534/92e9ce96-b08a-4048-b0e1-56ca9ea06409)

Now you should be able to enter the site on http://127.0.0.1:5173/. Metamask will prompt you to allow access from the site.

## Potential error
When signing a transaction, you might get an RPC error. This often happens when restarting the hardhat network. Fix this error by clearing history (clearing browser cache might also work)

![image](https://github.com/Osksacho/DD2485-Smart-Contract-Project/assets/65446534/d077b6a3-c8f3-45d3-8997-277637df8eac)

